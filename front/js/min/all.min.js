!function(e){"use strict";function o(e,o,n){var l=e.defer();return o.get("/api/login/loggedin").success(function(e){n(l,e)}),l.promise}var n={checkLoggedin:["$q","$http","$location",function(e,n,l){o(e,n,function(e,o){"0"!==o?e.resolve():(e.reject(),l.url("/mean-seed/login"))})}],checkLoggedOut:["$q","$http","$location",function(e,n,l){o(e,n,function(e,o){"0"!==o?(e.reject(),l.url("/mean-seed/client")):e.resolve()})}]};e.module("app",["app.controllers","app.directives","app.filters","app.services","ngSanitize","ngRoute","ngResource","ngAnimate"]).config(["$routeProvider","$locationProvider",function(e,o){e.when("/mean-seed/login",{templateUrl:"expose/login/login",controller:"LoginController",resolve:{loggedin:n.checkLoggedOut}}).when("/mean-seed/signup",{templateUrl:"expose/login/signup",controller:"SignupController",resolve:{loggedin:n.checkLoggedOut}}).when("/mean-seed/client",{templateUrl:"expose/client/list",controller:"ClientListController",resolve:{loggedin:n.checkLoggedin}}).when("/mean-seed/client/create",{templateUrl:"expose/client/save",controller:"ClientCreateController",resolve:{loggedin:n.checkLoggedin}}).when("/mean-seed/client/:id/edit",{templateUrl:"expose/client/save",controller:"ClientEditController",resolve:{loggedin:n.checkLoggedin}}).when("/mean-seed/client/:id/remove",{templateUrl:"expose/client/edit",controller:"ClientRemoveController",resolve:{loggedin:n.checkLoggedin}}).when("/mean-seed/user",{templateUrl:"expose/user/list",controller:"UserController",resolve:{loggedin:n.checkLoggedin}}).when("/mean-seed/404",{templateUrl:"expose/main/404",controller:"UserController",resolve:{loggedin:n.checkLoggedin}}).otherwise({redirectTo:"/mean-seed/404"}),o.html5Mode(!0)}])}(angular);
!function(l){"use strict";l.module("app.controllers",["app.modules.User.controllers","app.modules.Client.controllers","app.modules.Login.controllers"])}(angular);
!function(e){"use strict";e.module("app.directives",["app.modules.Client.directives"])}(angular);
!function(t){"use strict";t.module("app.filters",[])}(angular);
!function(e){"use strict";e.module("app.services",["app.modules.Client.services","app.modules.Login.services"])}(angular);
!function(e){"use strict";function o(e,o){o.findAll().then(function(o){s.cbFindAllSucess(o,e)},function(o){s.cbError("Erro ao buscar os Clientes: ",o,e)})}function n(e,o,n){e.title="Novo Cliente",e.pessoa="fisica",e.showModal=!1,e.save=function(i){n.create(i).then(function(n){s.cbCreateSucess(n,e,o)},function(o){s.cbError("Erro ao cadastrar o Cliente: ",o,e)})},e.isPessoaFisica=function(){return s.isPessoaFisica(e)},e.isCadastro=function(){return s.isCadastro(e)},e.resetCpfCnpj=function(){s.resetCpfCnpj(e)}}function i(o,n,i,t){var c=t;o.readonly=!0,o.showModal=!1,s.findClienteById(c,o,n),o.save=function(e){c.update(e).then(function(){s.cbUpdateSucess(o,i)},function(e){s.cbError("Erro ao alterar o Cliente: ",e,o)})},o.edit=function(){o.readonly=!1},o.cancel=function(){o.readonly=!0,e.copy(o.clientCopy,o.client),e.copy(o.pessoaCopy,o.pessoa)},o.isPessoaFisica=function(){return s.isPessoaFisica(o)},o.isCadastro=function(){return s.isCadastro(o)},o.resetCpfCnpj=function(){s.resetCpfCnpj(o)}}function t(e,o){e.remove=function(n){confirm("Deseja realmente excluir o Cliente "+n.razaoSocial+"?")&&o.remove(n).then(function(){s.cbRemoveSucess(n,e),s.removeItem(e.clients,n)},function(o){s.cbError("Erro ao alterar o Cliente: ",o,e)})}}function c(e,o,n){s.findClienteById(n,e,o)}var s={removeItem:function(e,o){var n=e.indexOf(o);n>-1&&e.splice(n,1)},cbFindAllSucess:function(e,o){o.clients=e.data,o.message="Listando todos os Cliente",console.log(e)},cbCreateSucess:function(e,o,n){o.message="Cliente "+e.data.razaoSocial+" cadastrado com sucesso",o.client={},s.showModal(o,n)},cbShowSucess:function(e,o){o.client=e.data;var n=o.client;o.title="Alterando o Cliente "+o.client.razaoSocial,o.pessoa=n.cpf&&""!==n.cpf?"fisica":"juridica",o.message="Cliente "+o.client.razaoSocial+" sendo exibido",s.copy(o)},cbUpdateSucess:function(e,o){e.message="Cliente "+e.client.razaoSocial+" alterado com sucesso",e.readonly=!0,s.copy(e),s.showModal(e,o)},cbRemoveSucess:function(e,o){o.message="Cliente "+e.razaoSocial+" removido com sucesso"},cbError:function(e,o,n){console.log(o),n.status=e+o.message},findClienteById:function(e,o,n){var i=n.id;e.findOneById(i).then(function(e){s.cbShowSucess(e,o)},function(e){s.cbError("Erro ao exibir o Cliente: ",e,o)})},isPessoaFisica:function(e){return"fisica"===e.pessoa?!0:void 0},isCadastro:function(o){return e.isUndefined(o.client)?!0:e.isUndefined(o.client._id)?!0:!1},resetCpfCnpj:function(e){e.client.cpf=null,e.client.cnpj=null},copy:function(o){o.clientCopy=e.copy(o.client),o.pessoaCopy=e.copy(o.pessoa)},showModal:function(e,o){e.showModal=!e.showModal,o(function(){e.showModal=!e.showModal},4e3)}};e.module("app.modules.Client.controllers",[]).controller("ClientListController",o).controller("ClientCreateController",n).controller("ClientEditController",i).controller("ClientRemoveController",t).controller("ClientShowController",c),o.$inject=["$scope","ClientService"],n.$inject=["$scope","$timeout","ClientService"],i.$inject=["$scope","$routeParams","$timeout","ClientService"],t.$inject=["$scope","ClientService"],c.$inject=["$scope","$routeParams","ClientService"]}(angular);
!function(i){"use strict";function t(){return{restrict:"E",scope:{show:"="},replace:!0,transclude:!0,link:function(i,t,d){i.dialogStyle={},d.width&&(i.dialogStyle.width=d.width),d.minHeight&&(i.dialogStyle.minHeight=d.minHeight),d.padding&&(i.dialogStyle.paddingTop=d.padding,i.dialogStyle.paddingBottom=d.padding),i.hideModal=function(){i.show=!1}},templateUrl:"partials/template-modal"}}i.module("app.modules.Client.directives",[]).directive("modalDialog",t)}(angular);
!function(t){function e(t){var e="api/client";this.findAll=function(){return t.get(e)},this.findOneById=function(i){return t.get(e+"/id/"+i)},this.create=function(i){return t.post(e,i)},this.update=function(i){return t.put(e+"/id/"+i._id,i)},this.remove=function(i){return t["delete"](e+"/id/"+i._id,i)}}t.module("app.modules.Client.services",[]).service("ClientService",e),e.$inject=["$http"]}(angular);
!function(o){"use strict";function e(o,e,n,r,a){o.showModal=!1,o.login=function(e){a.login(e).then(function(e){t.cbValidateLogin(e,o,n,r)},function(e){t.cbError("Erro ao efetuar Login.",e,o)})},o.signout=function(){a.signout().then(function(o){console.log(o),r.url("mean-seed/login")},function(e){t.cbError("Erro ao efetuar logout.",e,o)})}}function n(o,e,n,r,a){o.showModal=!1,o.createUser=function(e){t.validatePassword(e)?a.create(e).then(function(e){t.cbCreateSucess(e,o,n,r)},function(e){t.cbError("Erro ao criar o usuário.",e,o)}):(o.message="Senha diferente da confirmação",t.showModal(o,n))}}var t={getHome:function(){return"mean-seed/client"},cbCreateSucess:function(o,e,n,r){e.message="Usuário cadastrado com sucesso",e.user={},r.url(t.getHome()),t.showModal(e,n)},cbValidateLogin:function(o,e,n,r){console.log(o.data);var a=o.data.user;a?(console.log(a),r.url(t.getHome())):(console.log(o.data.message),e.message=o.data.message,e.user.password=null,t.showModal(e,n))},validatePassword:function(o){return o.confirmPassword===o.password},cbError:function(o,e,n){console.log(e),n.status=o+" "+e.message},showModal:function(o,e){o.showModal=!o.showModal,e(function(){o.showModal=!o.showModal},4e3)}};o.module("app.modules.Login.controllers",[]).controller("LoginController",e).controller("SignupController",n),e.$inject=["$scope","$http","$timeout","$location","LoginService"],n.$inject=["$scope","$http","$timeout","$location","LoginService"]}(angular);
!function(i){function n(i){this.create=function(n){return i.post("api/login/signup",n)},this.login=function(n){return i.post("api/login/login",n)},this.signout=function(){return i.get("api/login/signout")}}i.module("app.modules.Login.services",[]).service("LoginService",n),n.$inject=["$http"]}(angular);
!function(e){"use strict";function o(e,o){e.mensagem="Listagem de Usuários"}e.module("app.modules.User.controllers",[]).controller("UserController",o),o.$inject=["$scope","$http"]}(angular);
!function(n){"use strict"}(angular);
!function(n){"use strict"}(angular);